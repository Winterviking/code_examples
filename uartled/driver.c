
#include <driver.h>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////**********************************************************************************************************************/////
/////**********************************************************************************************************************/////
/////**********************************************************************************************************************/////
/////****RELEASE:::: ADAPT TO PROJECT ACCORDINGLY ( HCLK MUST BE CALCULATed in RIGHT WAY ( currently 8 * 6 = 48 MHz ) )****/////
/////**********************************************************************************************************************/////
/////**********************************************************************************************************************/////
/////**********************************************************************************************************************/////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// GLOBAL DRIVER's variable Definitions
const u32 HCLK = HSE_Value*PLL_MUL_TRUE_VALUE;
u32 maxpause_ms;
u32 maxpause_mks;
u32 maxpause_s;
// global pause counter
u32 ipause;

// SYSTEM MODE Physical variables
u32 PC;

void MarkM4Routine(void){
        if ( M128Mark ) // if teh mark is on
        {
                // delay debug
                //SWITCH_PIN__ON(MDR_PORTC,0x1); // MASK OF 0 PIN
                //DELAY_MS(1);
                //SWITCH_PIN_OFF(MDR_PORTC,0x1);

                SWITCH_PIN__ON(MDR_PORTC,0x1);
                SWITCH_LED__ON(LED3_pin);

                if ( PC > 9000 ) PC = 0;


                SWITCH_PIN_OFF(MDR_PORTC,0x1);
                SWITCH_LED_OFF(LED3_pin);

                M128Mark = 0;// switch off mark
        }
}






















